# 태스크와 인터럽트, 태스크와 태스크 사이의 동기화 문제 해결

<br>

19장 마지막에 테스트 과정에서 문제가 발생한 경우를 해결하기 위한 챕터이다.

테스트 도중 바람개비가 사라지거나 멈추는 현상이 발생할 수 있는데, 이의 원인은 바로 같은 ```같은 자료구조의 사용```으로 태스크와 인터럽트가 같은 준비 리스트, 대기 리스트를 사용하기 때문에 발생하는 것이다.

즉, 같은 자원에 접근하는 코드가 여러 곳에서 동시에 실행되어 발생하는 것이며 이를 막기 위해서는 여러 태스크나 태스크와 인터럽트가 동시에 데이터를 사용할 때 이미 수행 중인 작업이 끝날 때 까지 **기다리는 과정**이 필요하며 이를 **동기화**라고 한다.

동기화를 위해 사용하는 자료구조를 **동기화 객체** 라고 하며 멀티쓰레드 프로그래밍인 뮤텍스나 세머포어가 이에 해당한다.

예를 들어, 버스를 통해 살펴보면 ```버스 = 공유 자원```, ```승객 = 태스크``` 으로 볼 수 있으며, 승객들이 규칙에 맞게 승/하차를 해야 정상적으로 버스가 운행이 될 수 있을 것이다.

여기서 ```규칙 = 동기화 객체```이며 ```사람이 규칙에 따라 승/하차 하는 과정 = 동기화 과정```이라고 볼 수 있다. 

<br>

이번 챕터에서 이 문제를 해결하고, 확장하여 동일한 문제가 있는 부분 또한 해결할 것이라고 한다.

<br><br>
<hr style="border: 2px solid;">
<br><br>

## 태스크 생성 문제와 동기화 처리

<br>

태스크를 처리하는 도중 인터럽트가 발생하게 되면 태스크가 사라지는 현상이 발생하게 된다.

<br>

![image](https://user-images.githubusercontent.com/52172169/203236350-7b7ef5c7-7efa-44f6-9716-d3866afa3906.png)

<br>

자세한 내용은 p.727을 통해 복습하기.

이런 동기화 문제를 해결하기 위한 효율적인 방법을 이제 살펴볼 것이다.

<br>

멀티쓰레드 환경에서는 동기화를 처리하는 것은 매우 중요하다.

용어를 살펴보면 ```같은 자원을 두고 경쟁하는 상태 = Race Condition```, ```코드 중에서 반드시 한 개의 태스크만 수행되어야 하는 영역 = 임계 영역, Critical Section```, ```한 개의 태스크만 수행됨을 보장하는 용어 = 상호 배제, Mutual Exclusion```이 있다.




<br><br>
<hr style="border: 2px solid;">
<br><br>
